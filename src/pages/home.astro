---
import Layout from '../layouts/Layout.astro';
import Logo from '../components/logo.astro';
import ProgressBar from '../components/ProgressBar.astro';
import Card from '../components/Card.astro';
---

<Layout title="Home | IS Manager">
	<main class="flex flex-col h-[100%] px-[1rem] dark:bg-slate-900">
		<div class="infoStudent text-slate-900 dark:text-white">
			<div class="row flex flex-row justify-between items-center">
				<div class="col">
					<h4 class="text-md font-bold text-2xl">Hi, <span id="username"></span></h4>
					<p class="text-gray-400" id="carreerSpan"></p>
				</div>
				<div class="col h-full">
					<Logo classStyke="text-white h-[35px]" />
				</div>
			</div>
		</div>
		<section class="py-4">
			<h3 class="text-xl font-semibold">Progress</h3>
			<div class="flex flex-row overflow-x-scroll no-scrollbar w-full gap-2 my-2 ">
				<div class="card bg-[#605DFF] bg-gradient-to-r from-[#605DFF] to-[#219de4] text-white rounded-2xl p-4 min-w-[45%] md:min-w-[30%]">
					<div class="icon bg-[#ffffff80] p-1 rounded-full w-auto aspect-square w-9 h-9 flex justify-center items-center my-2">
						<svg class="w-5 h-5 text-[#605DFF]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15v4m6-6v6m6-4v4m6-6v6M3 11l6-5 6 5 5.5-5.5"/>
						</svg>
					</div>
					
					<ProgressBar title='Global' idProgress='progressGlobal' idText="progressGlobalText"/>
				</div>
				<div class="card bg-[#A168FF] bg-gradient-to-r from-[#8857e2] to-[#A168FF] text-white rounded-2xl p-4  min-w-[45%] md:min-w-[30%]">
					<div class="icon bg-[#ffffff80] p-1 rounded-full w-auto aspect-square w-9 h-9 flex justify-center items-center my-2">
						<svg class="w-5 h-5 text-[#A168FF]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v15a1 1 0 0 0 1 1h15M8 16l2.5-5.5 3 3L17.273 7 20 9.667"/>
						</svg>
					</div>
					<ProgressBar title='Period' idProgress='progressPeriod' idText="progressPeriodText"/>
				</div>
				<div class="card bg-[#58bd93] bg-gradient-to-r from-[#58bd93] to-[#21e4ba] text-white rounded-2xl p-4  min-w-[45%] md:min-w-[30%]">
					<div class="icon bg-[#ffffff80] p-1 rounded-full w-auto aspect-square w-9 h-9 flex justify-center items-center my-2">
						<svg class="w-5 h-5 text-[#58bd93]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6.025A7.5 7.5 0 1 0 17.975 14H10V6.025Z"/>
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.5 3c-.169 0-.334.014-.5.025V11h7.975c.011-.166.025-.331.025-.5A7.5 7.5 0 0 0 13.5 3Z"/>
						</svg>
						  
					</div>
					<ProgressBar title="Progress" idProgress='progress' idText="progressText"/>
				</div>
			</div>
		</section>
		<h3>Options</h3>
		<section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4">
			<a href="/map">
				<Card>
					<div class="flex flex-row items-center justify-between">
						<div class="icon aspect-square bg-slate-100 dark:bg-slate-700 p-2 rounded-lg centered">
							<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
								<path xmlns="http://www.w3.org/2000/svg" d="M11 18C11 18.9319 11 19.3978 11.1522 19.7654C11.3552 20.2554 11.7446 20.6448 12.2346 20.8478C12.6022 21 13.0681 21 14 21H18C18.9319 21 19.3978 21 19.7654 20.8478C20.2554 20.6448 20.6448 20.2554 20.8478 19.7654C21 19.3978 21 18.9319 21 18C21 17.0681 21 16.6022 20.8478 16.2346C20.6448 15.7446 20.2554 15.3552 19.7654 15.1522C19.3978 15 18.9319 15 18 15H14C13.0681 15 12.6022 15 12.2346 15.1522C11.7446 15.3552 11.3552 15.7446 11.1522 16.2346C11 16.6022 11 17.0681 11 18ZM11 18H9.2C8.07989 18 7.51984 18 7.09202 17.782C6.71569 17.5903 6.40973 17.2843 6.21799 16.908C6 16.4802 6 15.9201 6 14.8V9M6 9H18C18.9319 9 19.3978 9 19.7654 8.84776C20.2554 8.64477 20.6448 8.25542 20.8478 7.76537C21 7.39782 21 6.93188 21 6C21 5.06812 21 4.60218 20.8478 4.23463C20.6448 3.74458 20.2554 3.35523 19.7654 3.15224C19.3978 3 18.9319 3 18 3H6C5.06812 3 4.60218 3 4.23463 3.15224C3.74458 3.35523 3.35523 3.74458 3.15224 4.23463C3 4.60218 3 5.06812 3 6C3 6.93188 3 7.39782 3.15224 7.76537C3.35523 8.25542 3.74458 8.64477 4.23463 8.84776C4.60218 9 5.06812 9 6 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						</div>
						<p class="font-semibold w-full px-4">Map</p>
						<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/>
						</svg>					  
					</div>
				</Card>
			</a>
			<a href="/plan">
				<Card>
					<div class="flex flex-row items-center justify-between">
						<div class="icon aspect-square bg-slate-100 dark:bg-slate-700 p-2 rounded-lg centered">
							<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
								<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"/>
							  </svg>
							  
						</div>
						<p class="font-semibold w-full px-4">Plan</p>
						<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/>
						</svg>					  
					</div>
				</Card>
			</a>
			<a href="/classes">
				<Card>
					<div class="flex flex-row items-center justify-between">
						<div class="icon aspect-square bg-slate-100 dark:bg-slate-700 p-2 rounded-lg centered">
							<svg class="w-6 h-6 text-gray-800 dark:text-white"  xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 1920 1920">
								<path d="M1750.21 0v1468.235h-225.882v338.824h169.412V1920H451.387c-82.447 0-161.506-36.141-214.701-99.388-43.934-51.953-67.652-116.33-67.652-182.965V282.353C169.034 126.494 295.528 0 451.387 0H1750.21Zm-338.823 1468.235H463.81c-89.223 0-166.136 59.86-179.576 140.047-1.242 9.036-2.259 18.07-2.259 27.106v2.26c0 40.658 13.553 77.928 40.659 109.552 32.753 38.4 79.059 59.859 128.753 59.859h960v-112.941H409.599v-112.942h1001.788v-112.94Zm225.882-1355.294H451.387c-92.725 0-169.412 75.67-169.412 169.412v1132.8c50.824-37.27 113.958-59.859 181.835-59.859h1173.46V112.941ZM1354.882 903.53v112.942H564.294V903.529h790.588Zm56.47-564.705v451.764H507.825V338.824h903.529Zm-112.94 112.94H620.765v225.883h677.647V451.765Z" fill-rule="evenodd"/>
							</svg>
							  
						</div>
						<p class="font-semibold w-full px-4">Classes</p>
						<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/>
						</svg>					  
					</div>
				</Card>
			</a>
			<a href="/stats">
				<Card>
					<div class="flex flex-row items-center justify-between">
						<div class="icon aspect-square bg-slate-100 dark:bg-slate-700 p-2 rounded-lg centered">
							<svg class="w-6 h-6 text-2xl pt-1 mb-1 block" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
								<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" >
									<g id="Icon-Set" transform="translate(-312.000000, -671.000000)" fill="currentColor">
										<path d="M336,700 C336,700.553 335.553,701 335,701 C334.447,701 334,700.553 334,700 L334,690 C334,689.448 334.447,689 335,689 C335.553,689 336,689.448 336,690 L336,700 L336,700 Z M336,687 L334,687 C332.896,687 332,687.896 332,689 L332,701 C332,702.104 332.896,703 334,703 L336,703 C337.104,703 338,702.104 338,701 L338,689 C338,687.896 337.104,687 336,687 L336,687 Z M316,700 C316,700.553 315.553,701 315,701 C314.447,701 314,700.553 314,700 L314,683 C314,682.448 314.447,682 315,682 C315.553,682 316,682.448 316,683 L316,700 L316,700 Z M316,680 L314,680 C312.896,680 312,680.896 312,682 L312,701 C312,702.104 312.896,703 314,703 L316,703 C317.104,703 318,702.104 318,701 L318,682 C318,680.896 317.104,680 316,680 L316,680 Z M326,700 C326,700.553 325.553,701 325,701 C324.447,701 324,700.553 324,700 L324,674 C324,673.447 324.447,673 325,673 C325.553,673 326,673.447 326,674 L326,700 L326,700 Z M326,671 L324,671 C322.896,671 322,671.896 322,673 L322,701 C322,702.104 322.896,703 324,703 L326,703 C327.104,703 328,702.104 328,701 L328,673 C328,671.896 327.104,671 326,671 L326,671 Z" id="stats" >
							
							</path>
									</g>
								</g>
							  </svg>
							  
						</div>
						<p class="font-semibold w-full px-4">Stats</p>
						<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/>
						</svg>					  
					</div>
				</Card>
			</a>
		</section>
	</main>
</Layout>
<script  type="module" is:inline>
	const carreerSpan = document.getElementById('carreerSpan');
	const username = document.getElementById('username');
	const progress = document.getElementById('progress');
	const progressGlobal = document.getElementById('progressGlobal');
	const progressPeriod = document.getElementById('progressPeriod');
	const progressText = document.getElementById('progressText');
	const progressGlobalText = document.getElementById('progressGlobalText');
	const progressPeriodText = document.getElementById('progressPeriodText');
	carreerSpan.innerHTML = data.INFO.Carrera;
	var palabras = data.INFO.Nombre.split(" ");
	var nuevoNombre = palabras[0] + " " + palabras[palabras.length - 1];
	username.innerHTML = nuevoNombre;

	progressGlobal.style.width = data.INFO.Indice.global + '%'
	progressPeriod.style.width = data.INFO.Indice.periodo + '%'
	progressGlobalText.innerHTML = data.INFO.Indice.global + '%'
	progressPeriodText.innerHTML = data.INFO.Indice.periodo + '%'

	
	const porcentCarreer = (1-((remaining.length)/(career.classes.length)))*100
  
	progress.style.width = porcentCarreer.toFixed(2) + '%'
	progressText.innerHTML = porcentCarreer.toFixed(2) + '%'
</script>
<style>
.no-scrollbar::-webkit-scrollbar {
    display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}
</style>
